{% extends "base.html" %} {% block content %}

<section>
  <div class="content-header">
    <div class="container-fluid">
      <div class="row mb-2">
        <div class="col-sm-6">
          <h2 class="h2 fw-bold" style="color: #9dc8e4">
            Cursos de la sección
          </h2>
        </div>
        <div class="col-sm-6 d-flex justify-content-end">
          <!-- Botón para abrir la modal -->
          <button
            type="button"
            class="btn btn-agregar"
            data-toggle="modal"
            data-target="#modal-add-seccion"
          >
            Agregar sección
          </button>

          <!-- Modal -->
          <div class="modal" id="modal-add-seccion">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h4 class="modal-title fs-5">Agregar sección</h4>
                  <a
                    href="{{ url_for('secciones') }}"
                    class="text-decoration-none text-danger"
                  >
                    <i class="fa-solid fa-xmark"></i>
                  </a>
                </div>
                <div class="modal-body">
                  <form action="{{ url_for('add_seccion') }}" method="POST">
                    <div class="mb-3">
                      <label for="curso">Seleccione el curso:</label>
                      <select class="form-select" id="curso" name="curso">
                        {% for curso in cursos %}
                          <option value="{{ curso._id }}">{{ curso.nombre }}</option>
                          
                        {% endfor %}
                      </select>
                      
                    </div>
                    <div class="mb-3">
                      <label for="seccion" class="form-label">
                        Número de sección
                      </label>
                      <input
                        type="text"
                        class="form-control"
                        id="seccion"
                        name="seccion"
                        required
                      />
                    </div>
                    <div class="mb-3">
                      <label for="horario" class="form-label">
                        Horario de la sección
                      </label>
                      <input
                        type="text"
                        class="form-control"
                        id="horario"
                        name="horario"
                        required
                      />
                    </div>
                    <div class="mb-3">
                      <label for="estudiantesAsignados" class="form-label">
                        Estudiantes asignados (separados por comas)
                      </label>
                      <textarea
                        class="form-control"
                        id="estudiantesAsignados"
                        name="estudiantesAsignados"
                        required
                      ></textarea>
                    </div>
                    <div class="d-flex justify-content-end">
                      <button
                        type="submit"
                        class="btn"
                        style="
                          background-color: #f0731f;
                          color: whitesmoke;
                          font-weight: 600;
                        "
                      >
                        Agregar sección
                      </button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>

          <!-- /.modal -->
        </div>
      </div>
      <!-- /.row -->
      <!-- Modal Agregar Usuario-->
    </div>
    <!-- /.container-fluid -->
  </div>
</section>

<!-- Contenedor donde trae datos -->
<div class="container">
  <div class="row">
    {% for seccion in secciones %}
    <div class="col-md-4">
      <div class="card-deck">
        <div class="col-sm-6">
          <div
            class="card w-500 border-0"
            style="background-color: #e7e7e794; color: #1f5d83"
          >
            <div class="card-body">
              <h5 class="card-title">{{ seccion }}</h5>
            </div>
            <div class="d-flex justify-content-center mb-4">
              <a
                href="{{ url_for('seccionCursos', Secciones_seccion=seccion) }}"
                class="btn btn-agregar text-light"
              >
                Ver cursos
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>

{% endblock %}
